# 提示词模板框架

## 零、角色参考图提示词

在生成8张首尾帧之前，先生成一张白底角色参考图，用于锁定人物面孔。

### 角色参考图模板
```
[国籍/族裔]女性/男性，[年龄]岁
[发型描述：长度、颜色、状态]
[表情：自然放松微笑]
[妆容描述：素颜/淡妆等]
[穿着描述：款式、材质、颜色]
五官真实 自然好看 并非完美 有生活感 有记忆点
允许存在细微真实瑕疵：轻微黑眼圈 轻微肤色不均 小痘印或细小毛孔
纯白色背景 半身照 正面面朝镜头
写实摄影风格 自然光 无风格化调色
```

生成后保存为 `character_ref.png`，后续所有生图都将此图作为reference image传入API的contents中。

---

## 〇.5、产品图预处理

### 情况A：用户已有白底产品图
直接用脚本拼接，无需AI生成，无需提示词。
命令：`--mode composite`

### 情况B：用户只有实拍图/模特图，需AI提炼白底图

将用户的实拍图作为reference传入Nano Banana Pro，提炼出干净的产品白底图。

#### 产品正面白底图提炼模板
```
严格参考提供的参考图（reference image）中的产品外观
产品的颜色、图案、材质、细节必须与参考图高度一致
不要改变产品设计 不要添加不存在的图案或文字

将产品从参考图中提取出来，以正面朝向镜头的角度展示
只保留产品本身 去除模特、背景、其他物品
产品完整呈现在画面中 四边不裁切
纯白色背景 无阴影 无装饰 无其他物品
产品居中 占画面60%-80%
产品自然平铺或悬挂展示 保持真实形态
高清产品摄影风格 光线均匀 色彩真实
电商白底产品图标准
```

#### 产品背面白底图提炼模板（如需要）
```
（同上，将"正面"替换为"背面"）
```

调用时：contents = [用户实拍图1, 用户实拍图2, ..., 提示词]
命令：`--mode extract-product`
生成后保存为 `product_front.png` / `product_back.png`，并自动拼接为 `product_composite.png`。

---

## 一、Nano Banana 生图提示词模块

每张图的提示词由4个模块组成，必须全部包含。

**生图顺序与参考图机制：**
- 所有图生成时，contents中第一个元素为角色参考图（character_ref.png）
- 同一分镜先生成首帧，再生成尾帧
- 生成尾帧时，contents = [角色参考图, 该分镜首帧图, 尾帧提示词]
- 尾帧提示词中必须包含场景锚定描述："背景场景严格参考首帧图片，保持建筑、道具、光影细节一致"

### 模块A：人物描述块
所有包含人物的图片必须完整复制此块，一字不改。根据用户设定填写方括号内容。

```
[国籍/族裔]女性/男性，[年龄]岁
人物形象必须严格、强烈参考提供的参考图（reference image）
脸型、五官比例、眉眼结构、鼻子与嘴唇形态高度一致
不要生成陌生面孔 不要偏离参考图人物 不要网红脸
自然好看 五官真实 并非完美 有生活感 有记忆点
人物呈现高度写实状态 允许存在细微真实瑕疵：
轻微黑眼圈 轻微肤色不均 小痘印或细小毛孔
整体感觉真实、像真实存在的人 而不是生成感强的模特
[发型描述：长度、状态、是否绑起等]
[表情描述：放松/微笑/认真等]
[妆容描述：素颜/淡妆等]
[穿着描述：款式、材质、颜色]
```

### 模块B：场景描述块
所有图片必须完整复制此块的基础部分。

```
[时间]真实[场景类型]场景
写实摄影风格，纪录感生活影像
与其他分镜为同一人物、同一空间、同一时间
[场景具体描述：家具位置、道具布局]
[固定道具/标志物描述——用于视觉锚定，如：床上有超大毛绒玩偶]
整体色调[偏冷/中性/偏暖] 真实色彩 不做风格化调色
[时间段]环境 [灯光类型]灯光 光线略不均匀 允许轻微阴影
```

### 模块C：反AI标签块
所有图片必须附加。

```
非商业广告 非摆拍 非棚拍
no table visible no camera visible no selfie angle
no beauty filter no overly perfect skin no overly perfect lighting
raw realism imperfect beauty
[根据分镜补充氛围标签，如：intimate proximity / casual moment / product showcase等]
```

### 模块D：分镜专属内容
每张图不同，描述该帧的具体状态。

```
[人物姿势/动作描述]
[构图要求：近景/中景/特写、人物在画面中的位置]
[产品在画面中的位置、状态、占比]
[镜头位置与角度]
[背景虚化程度]
```

### 首尾帧设计原则
- **首帧** = 该分镜动作的起始状态（如：手在身侧，准备拿起产品）
- **尾帧** = 该分镜动作的结束状态（如：产品已举到镜头前展示）
- 首尾帧之间要有明确的动作/状态变化，给Veo3留出动画空间
- 每段视频的首尾帧完全独立，不与相邻段共享
- **生成顺序**：同一分镜必须先生成首帧，再生成尾帧
- **尾帧场景锚定**：尾帧生成时将首帧图片作为额外reference传入，并在提示词末尾追加：
  `背景场景严格参考首帧图片，保持建筑、道具、光影细节一致，仅改变人物动作/姿态`

---

## 二、Veo3 生视频提示词模块

每段视频提示词由4个模块组成。

### 模块V-A：场景与人物一致性声明
```
[时间]真实[场景]场景 写实摄影风格，纪录感生活影像
人物、场景、气质与前序分镜设定保持一致
[完整人物描述——复制模块A的全部内容]
[完整场景描述——复制模块B的全部内容]
```

### 模块V-B：动作与画面描述
```
[镜头构图：近景/中景/特写]
[人物与镜头的距离]
[动作流程按时间顺序描述，从首帧状态到尾帧状态]
[镜头运动描述（固定/缓慢推进/跟随等）]
```

### 模块V-C：口播内容与音色控制
```
人物在[动作描述]的同时，自然口播以下内容（必须同步出现）：
"[口播文案——自然口语，非书面语]"

语气：[随意/真诚/兴奋等] 像对朋友说话 不刻意强调 不表演
语速：[偏慢/正常/偏快]
情绪：[平静/轻松/认真等]
[音色一致性描述——以下内容在每段视频中完全相同：]
[性别]声 [年龄感] 自然 [特征如：略带慵懒/清脆/温柔等] 不是播音腔 不是配音感 像真实聊天
```

### 模块V-D：反AI标签
```
非商业广告 非摆拍 非棚拍
no beauty filter no exaggerated acting no overly perfect lighting
[分镜专属氛围标签]
```

### 输出格式
```
## Veo3 生视频提示词

### 第X段视频（分镜X：[标题]）
首帧：使用分镜X首帧图片
尾帧：使用分镜X尾帧图片

[模块V-A完整内容]
[模块V-B完整内容]
[模块V-C完整内容]
[模块V-D完整内容]
```
